<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Books Loading</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>Books Loading Debug</h1>
    <div id="results"></div>

    <script src="books-data.js"></script>
    <script>
        const results = document.getElementById('results');
        
        function addResult(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            results.appendChild(div);
            console.log(message);
        }

        // Test 1: Check if booksData is loaded
        addResult('Test 1: Checking booksData availability...');
        if (typeof booksData !== 'undefined') {
            addResult(`✓ booksData is available with ${booksData.length} books`, 'success');
            
            // Test 2: Check data structure
            if (booksData.length > 0) {
                const firstBook = booksData[0];
                addResult(`✓ First book: ${firstBook.title} by ${firstBook.author}`, 'success');
                addResult(`✓ Price: ₹${firstBook.price}`, 'success');
                addResult(`✓ Category: ${firstBook.category}`, 'success');
            }
            
            // Test 3: Check for duplicates or issues
            const titles = booksData.map(book => book.title);
            const uniqueTitles = new Set(titles);
            addResult(`✓ Total books: ${booksData.length}, Unique titles: ${uniqueTitles.size}`, 'info');
            
            // Test 4: Check categories
            const categories = [...new Set(booksData.map(book => book.category))];
            addResult(`✓ Categories: ${categories.join(', ')}`, 'info');
            
            // Test 5: Check price range
            const prices = booksData.map(book => book.price);
            const minPrice = Math.min(...prices);
            const maxPrice = Math.max(...prices);
            addResult(`✓ Price range: ₹${minPrice.toFixed(2)} - ₹${maxPrice.toFixed(2)}`, 'info');
            
        } else {
            addResult('✗ booksData is not available!', 'error');
        }

        // Test 6: Simulate pagination
        addResult('Test 6: Simulating pagination...');
        if (typeof booksData !== 'undefined' && booksData.length > 0) {
            const booksPerPage = 24;
            const totalPages = Math.ceil(booksData.length / booksPerPage);
            addResult(`✓ Total pages with ${booksPerPage} books per page: ${totalPages}`, 'success');
            
            const firstPageBooks = booksData.slice(0, booksPerPage);
            addResult(`✓ First page would show ${firstPageBooks.length} books`, 'success');
        }
    </script>
</body>
</html>