<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports | ShelfSync Admin</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .chart-container {
            height: 300px;
            position: relative;
            padding: var(--spacing-md);
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.5), rgba(241, 245, 249, 0.3));
            border-radius: var(--radius-md);
        }

        .chart-svg {
            width: 100%;
            height: 100%;
        }

        /* Sales Chart Styles */
        .chart-grid-line {
            stroke: var(--border-color);
            stroke-width: 1;
            stroke-dasharray: 4, 4;
            opacity: 0.6;
        }

        .sales-line {
            fill: none;
            stroke: url(#salesLineGradient);
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
            filter: drop-shadow(0 2px 4px rgba(44, 82, 130, 0.2));
        }

        .sales-area {
            fill: url(#salesAreaGradient);
            opacity: 0.3;
        }

        .sales-point {
            fill: var(--primary-color);
            stroke: white;
            stroke-width: 2;
            cursor: pointer;
            transition: all var(--transition-base);
            r: 5;
        }

        .sales-point:hover {
            r: 8;
            fill: var(--accent-color);
            filter: drop-shadow(0 4px 8px rgba(196, 86, 33, 0.4));
        }

        .chart-label {
            font-size: 0.75rem;
            fill: var(--text-light);
            font-weight: 500;
            text-anchor: middle;
        }

        .chart-value-label {
            font-size: 0.7rem;
            fill: var(--text-light);
            font-weight: 600;
            text-anchor: end;
        }

        .chart-tooltip {
            position: absolute;
            background-color: var(--secondary-color);
            color: white;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            font-size: 0.875rem;
            font-weight: 600;
            pointer-events: none;
            opacity: 0;
            transform: translate(-50%, -100%) translateY(-10px);
            transition: opacity var(--transition-base), transform var(--transition-base);
            box-shadow: var(--shadow-lg);
            white-space: nowrap;
            z-index: 100;
        }

        .chart-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: var(--secondary-color);
        }

        .chart-tooltip.show {
            opacity: 1;
            transform: translate(-50%, -100%) translateY(-5px);
        }

        /* User Growth Chart Styles */
        .bar-group {
            cursor: pointer;
        }

        .bar-customer {
            fill: #2C5282;
            transition: all var(--transition-base);
        }

        .bar-seller {
            fill: #C05621;
            transition: all var(--transition-base);
        }

        .bar-admin {
            fill: #38A169;
            transition: all var(--transition-base);
        }

        .bar-customer:hover,
        .bar-seller:hover,
        .bar-admin:hover {
            opacity: 0.8;
            filter: brightness(1.1);
        }

        .growth-chart-legend {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-lg);
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--border-light);
            flex-wrap: wrap;
        }

        .growth-legend-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: 0.8125rem;
            color: var(--text-color);
        }

        .growth-legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .growth-legend-color.customer {
            background-color: #2C5282;
        }

        .growth-legend-color.seller {
            background-color: #C05621;
        }

        .growth-legend-color.admin {
            background-color: #38A169;
        }
    </style>
</head>

<body>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <a href="../index.html" class="logo">
                <span>ðŸ“š ShelfSync Admin</span>
            </a>
            <nav class="sidebar-nav">
                <a href="admin-dashboard.html" class="sidebar-link">Dashboard Overview</a>
                <a href="admin-users.html" class="sidebar-link">User Management</a>
                <a href="admin-inventory.html" class="sidebar-link">All Inventory</a>
                <a href="admin-reports.html" class="sidebar-link active">Reports</a>
                <a href="admin-settings.html" class="sidebar-link">Settings</a>
                <a href="../index.html" class="sidebar-link"
                    style="margin-top: auto; color: var(--error-color);">Logout</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-main">
            <header class="dashboard-header">
                <h2>Reports & Analytics</h2>
                <div style="display: flex; align-items: center; gap: var(--spacing-md);">
                    <button class="btn btn-outline">Export Data</button>
                    <div
                        style="width: 40px; height: 40px; background-color: var(--secondary-color); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center;">
                        A
                    </div>
                </div>
            </header>

            <!-- Key Metrics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>$12,450</h3>
                    <p>Monthly Revenue</p>
                    <span class="text-success" style="font-size: 0.8rem; display: block; margin-top: 0.5rem;">+12% from
                        last month</span>
                </div>
                <div class="stat-card">
                    <h3>1,240</h3>
                    <p>New Users</p>
                    <span class="text-success" style="font-size: 0.8rem; display: block; margin-top: 0.5rem;">+5% from
                        last month</span>
                </div>
                <div class="stat-card">
                    <h3>856</h3>
                    <p>Orders Processed</p>
                    <span class="text-success" style="font-size: 0.8rem; display: block; margin-top: 0.5rem;">+8% from
                        last month</span>
                </div>
                <div class="stat-card">
                    <h3>2.4%</h3>
                    <p>Return Rate</p>
                    <span class="text-error" style="font-size: 0.8rem; display: block; margin-top: 0.5rem;">+0.2% from
                        last month</span>
                </div>
            </div>

            <div class="grid-2">
                <!-- Sales Chart -->
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Sales Overview</h3>
                        <p class="card-subtitle">Revenue over the last 6 months</p>
                        <div class="chart-container">
                            <svg class="chart-svg" viewBox="0 0 700 280" preserveAspectRatio="xMidYMid meet">
                                <defs>
                                    <linearGradient id="salesLineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color: #2C5282; stop-opacity: 1" />
                                        <stop offset="100%" style="stop-color: #C05621; stop-opacity: 1" />
                                    </linearGradient>
                                    <linearGradient id="salesAreaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color: #2C5282; stop-opacity: 0.4" />
                                        <stop offset="100%" style="stop-color: #2C5282; stop-opacity: 0.05" />
                                    </linearGradient>
                                </defs>

                                <!-- Grid Lines -->
                                <line class="chart-grid-line" x1="60" y1="40" x2="60" y2="240" />
                                <line class="chart-grid-line" x1="60" y1="240" x2="660" y2="240" />
                                <line class="chart-grid-line" x1="60" y1="200" x2="660" y2="200" />
                                <line class="chart-grid-line" x1="60" y1="160" x2="660" y2="160" />
                                <line class="chart-grid-line" x1="60" y1="120" x2="660" y2="120" />
                                <line class="chart-grid-line" x1="60" y1="80" x2="660" y2="80" />

                                <!-- Y-axis Labels -->
                                <text class="chart-value-label" x="55" y="245" text-anchor="end">$0</text>
                                <text class="chart-value-label" x="55" y="205" text-anchor="end">$3k</text>
                                <text class="chart-value-label" x="55" y="165" text-anchor="end">$6k</text>
                                <text class="chart-value-label" x="55" y="125" text-anchor="end">$9k</text>
                                <text class="chart-value-label" x="55" y="85" text-anchor="end">$12k</text>

                                <!-- Area under curve -->
                                <path class="sales-area"
                                    d="M 150 240 L 150 210 L 220 195 L 290 180 L 360 165 L 430 150 L 500 135 L 500 240 Z" />

                                <!-- Line -->
                                <path class="sales-line"
                                    d="M 150 210 L 220 195 L 290 180 L 360 165 L 430 150 L 500 135" />

                                <!-- Data Points -->
                                <circle class="sales-point" cx="150" cy="210" data-month="Jul" data-value="3,200" />
                                <circle class="sales-point" cx="220" cy="195" data-month="Aug" data-value="4,500" />
                                <circle class="sales-point" cx="290" cy="180" data-month="Sep" data-value="6,800" />
                                <circle class="sales-point" cx="360" cy="165" data-month="Oct" data-value="8,200" />
                                <circle class="sales-point" cx="430" cy="150" data-month="Nov" data-value="10,500" />
                                <circle class="sales-point" cx="500" cy="135" data-month="Dec" data-value="12,450" />

                                <!-- X-axis Labels -->
                                <text class="chart-label" x="150" y="255">Jul</text>
                                <text class="chart-label" x="220" y="255">Aug</text>
                                <text class="chart-label" x="290" y="255">Sep</text>
                                <text class="chart-label" x="360" y="255">Oct</text>
                                <text class="chart-label" x="430" y="255">Nov</text>
                                <text class="chart-label" x="500" y="255">Dec</text>
                            </svg>
                            <div class="chart-tooltip" id="salesTooltip"></div>
                        </div>
                    </div>
                </div>

                <!-- User Growth -->
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">User Growth</h3>
                        <p class="card-subtitle">New registrations by role</p>
                        <div class="chart-container">
                            <svg class="chart-svg" viewBox="0 0 700 280" preserveAspectRatio="xMidYMid meet">
                                <defs>
                                    <filter id="barShadow" x="-20%" y="-20%" width="140%" height="140%">
                                        <feGaussianBlur in="SourceAlpha" stdDeviation="2" />
                                        <feOffset dx="0" dy="2" result="offsetblur" />
                                        <feComponentTransfer>
                                            <feFuncA type="linear" slope="0.3" />
                                        </feComponentTransfer>
                                        <feMerge>
                                            <feMergeNode />
                                            <feMergeNode in="SourceGraphic" />
                                        </feMerge>
                                    </filter>
                                </defs>

                                <!-- Grid Lines -->
                                <line class="chart-grid-line" x1="80" y1="40" x2="80" y2="240" />
                                <line class="chart-grid-line" x1="80" y1="240" x2="660" y2="240" />
                                <line class="chart-grid-line" x1="80" y1="200" x2="660" y2="200" />
                                <line class="chart-grid-line" x1="80" y1="160" x2="660" y2="160" />
                                <line class="chart-grid-line" x1="80" y1="120" x2="660" y2="120" />
                                <line class="chart-grid-line" x1="80" y1="80" x2="660" y2="80" />

                                <!-- Y-axis Labels -->
                                <text class="chart-value-label" x="75" y="245" text-anchor="end">0</text>
                                <text class="chart-value-label" x="75" y="205" text-anchor="end">50</text>
                                <text class="chart-value-label" x="75" y="165" text-anchor="end">100</text>
                                <text class="chart-value-label" x="75" y="125" text-anchor="end">150</text>
                                <text class="chart-value-label" x="75" y="85" text-anchor="end">200</text>

                                <!-- Bar Groups -->
                                <!-- July -->
                                <g class="bar-group" transform="translate(140, 0)">
                                    <rect class="bar-customer" x="0" y="116" width="45" height="124"
                                        filter="url(#barShadow)" data-role="Customer" data-value="180"
                                        data-month="Jul" />
                                    <rect class="bar-seller" x="50" y="160" width="45" height="80"
                                        filter="url(#barShadow)" data-role="Seller" data-value="120" data-month="Jul" />
                                    <rect class="bar-admin" x="100" y="226" width="45" height="14"
                                        filter="url(#barShadow)" data-role="Admin" data-value="15" data-month="Jul" />
                                    <text class="chart-label" x="72.5" y="255">Jul</text>
                                </g>

                                <!-- August -->
                                <g class="bar-group" transform="translate(240, 0)">
                                    <rect class="bar-customer" x="0" y="107" width="45" height="133"
                                        filter="url(#barShadow)" data-role="Customer" data-value="200"
                                        data-month="Aug" />
                                    <rect class="bar-seller" x="50" y="150" width="45" height="90"
                                        filter="url(#barShadow)" data-role="Seller" data-value="135" data-month="Aug" />
                                    <rect class="bar-admin" x="100" y="225" width="45" height="15"
                                        filter="url(#barShadow)" data-role="Admin" data-value="18" data-month="Aug" />
                                    <text class="chart-label" x="72.5" y="255">Aug</text>
                                </g>

                                <!-- September -->
                                <g class="bar-group" transform="translate(340, 0)">
                                    <rect class="bar-customer" x="0" y="90" width="45" height="150"
                                        filter="url(#barShadow)" data-role="Customer" data-value="225"
                                        data-month="Sep" />
                                    <rect class="bar-seller" x="50" y="133" width="45" height="107"
                                        filter="url(#barShadow)" data-role="Seller" data-value="155" data-month="Sep" />
                                    <rect class="bar-admin" x="100" y="222" width="45" height="18"
                                        filter="url(#barShadow)" data-role="Admin" data-value="25" data-month="Sep" />
                                    <text class="chart-label" x="72.5" y="255">Sep</text>
                                </g>

                                <!-- October -->
                                <g class="bar-group" transform="translate(440, 0)">
                                    <rect class="bar-customer" x="0" y="73" width="45" height="167"
                                        filter="url(#barShadow)" data-role="Customer" data-value="250"
                                        data-month="Oct" />
                                    <rect class="bar-seller" x="50" y="116" width="45" height="124"
                                        filter="url(#barShadow)" data-role="Seller" data-value="180" data-month="Oct" />
                                    <rect class="bar-admin" x="100" y="218" width="45" height="22"
                                        filter="url(#barShadow)" data-role="Admin" data-value="32" data-month="Oct" />
                                    <text class="chart-label" x="72.5" y="255">Oct</text>
                                </g>

                                <!-- November -->
                                <g class="bar-group" transform="translate(540, 0)">
                                    <rect class="bar-customer" x="0" y="60" width="45" height="180"
                                        filter="url(#barShadow)" data-role="Customer" data-value="270"
                                        data-month="Nov" />
                                    <rect class="bar-seller" x="50" y="107" width="45" height="133"
                                        filter="url(#barShadow)" data-role="Seller" data-value="200" data-month="Nov" />
                                    <rect class="bar-admin" x="100" y="213" width="45" height="27"
                                        filter="url(#barShadow)" data-role="Admin" data-value="40" data-month="Nov" />
                                    <text class="chart-label" x="72.5" y="255">Nov</text>
                                </g>
                            </svg>
                            <div class="chart-tooltip" id="growthTooltip"></div>
                        </div>
                        <div class="growth-chart-legend">
                            <div class="growth-legend-item">
                                <div class="growth-legend-color customer"></div>
                                <span>Customer</span>
                            </div>
                            <div class="growth-legend-item">
                                <div class="growth-legend-color seller"></div>
                                <span>Seller</span>
                            </div>
                            <div class="growth-legend-item">
                                <div class="growth-legend-color admin"></div>
                                <span>Admin</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Sellers Table -->
            <div class="card" style="margin-top: var(--spacing-xl);">
                <div class="card-body">
                    <h3 class="card-title">Top Performing Sellers</h3>
                    <div class="table-container" style="box-shadow: none; border: none;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Seller Name</th>
                                    <th>Total Sales</th>
                                    <th>Orders</th>
                                    <th>Rating</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="font-weight: 500;">BookHaven Store</td>
                                    <td>$4,500</td>
                                    <td>320</td>
                                    <td><span class="text-warning">â˜…</span> 4.8</td>
                                    <td><span class="badge badge-success">Top Rated</span></td>
                                </tr>
                                <tr>
                                    <td style="font-weight: 500;">TechBooks Inc.</td>
                                    <td>$3,200</td>
                                    <td>150</td>
                                    <td><span class="text-warning">â˜…</span> 4.9</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td style="font-weight: 500;">Classic Reads</td>
                                    <td>$2,100</td>
                                    <td>210</td>
                                    <td><span class="text-warning">â˜…</span> 4.5</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        // Sales chart tooltip functionality
        document.addEventListener('DOMContentLoaded', function () {
            const salesTooltip = document.getElementById('salesTooltip');
            const salesPoints = document.querySelectorAll('.sales-point');

            salesPoints.forEach(point => {
                point.addEventListener('mouseenter', function (e) {
                    const month = this.getAttribute('data-month');
                    const value = this.getAttribute('data-value');
                    const rect = this.getBoundingClientRect();
                    const chartRect = this.closest('.chart-container').getBoundingClientRect();

                    salesTooltip.textContent = `${month}: $${value}`;
                    salesTooltip.style.left = rect.left - chartRect.left + rect.width / 2 + 'px';
                    salesTooltip.style.top = rect.top - chartRect.top + 'px';
                    salesTooltip.classList.add('show');
                });

                point.addEventListener('mouseleave', function () {
                    salesTooltip.classList.remove('show');
                });
            });

            // User growth chart tooltip functionality
            const growthTooltip = document.getElementById('growthTooltip');
            const bars = document.querySelectorAll('.bar-customer, .bar-seller, .bar-admin');

            bars.forEach(bar => {
                bar.addEventListener('mouseenter', function (e) {
                    const role = this.getAttribute('data-role');
                    const value = this.getAttribute('data-value');
                    const month = this.getAttribute('data-month');
                    const rect = this.getBoundingClientRect();
                    const chartRect = this.closest('.chart-container').getBoundingClientRect();

                    growthTooltip.textContent = `${month} - ${role}: ${value}`;
                    growthTooltip.style.left = rect.left - chartRect.left + rect.width / 2 + 'px';
                    growthTooltip.style.top = rect.top - chartRect.top + 'px';
                    growthTooltip.classList.add('show');
                });

                bar.addEventListener('mouseleave', function () {
                    growthTooltip.classList.remove('show');
                });
            });
        });
    </script>

</body>

</html>